<div class="row">
  <div class="col-lg-4">
    <div class="widget style1">
      <div class="row">
        <div class="col-4 text-center">
          <i class="fa fa-trophy fa-5x"></i>
        </div>
        <div class="col-8 text-right">
          <span> Revenu du mois </span>
          <h2 class="font-bold">{{ revenuJour | number: '2.' }} $</h2>
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-4">
    <div class="widget style1">
      <div class="row">
        <div class="col-4 text-center">
          <i class="fa fa-trophy fa-5x"></i>
        </div>
        <div class="col-8 text-right">
          <span> Revenus global du dealer </span>
          <h2 class="font-bold">{{ revenuGlobalDealder | number: '2.' }} $</h2>
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-4">
    <div class="widget style1">
      <div class="row">
        <div class="col-4 text-center">
          <i class="fa fa-trophy fa-5x"></i>
        </div>
        <div class="col-8 text-right">
          <span> Revenu potentiel avec les graines </span>
          <h2 class="font-bold">{{ revenuPotentielGraine | number: '2.' }} $</h2>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-lg-8">
    <div class="ibox ">
      <div class="ibox-title">
        <h5>Ventes au dealer</h5>
        <div class="ibox-tools">
          <a class="btn btn-primary btn-sm" data-toggle="modal" data-target="#new-vente">Nouvelle vente</a>
        </div>
      </div>
      <div class="ibox-content">
        <table class="table">
          <thead>
            <tr>
              <th>Date</th>
              <th>Vendeur</th>
              <th>Quantités</th>
              <th>Revenus</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let weed of weeds">
              <td>{{ weed.date | date: 'dd/MM/yyyy' }}</td>
              <td>{{ weed.vendor }}</td>
              <td>{{ weed.quantity }}</td>
              <td>{{ weed.quantity * 600  | number: '2.'}} €</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="col-lg-4">
    <div class="ibox">
      <div class="ibox-title">
        <h5>Stock</h5>
        <div class="ibox-tools">
        </div>
      </div>
      <div class="ibox-content">
        <table class="table table-bordered">
          <thead>
            <tr>
              <th>Possession</th>
              <th>Quantités</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let weedStock of weedsStock">
              <td>{{ weedStock.userName }}</td>
              <td>{{ weedStock.quantity }}</td>
            </tr>
          </tbody>
        </table>
        <button class="btn btn-primary btn-sm mt-3" data-toggle="modal" data-target="#edit-stock">Éditer mon stock</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal nouvelle vente -->
<div class="modal inmodal fade" id="new-vente" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
            class="sr-only">Close</span></button>
        <h4 class="modal-title">Nouvelle vente</h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-sm-12">
            <form role="form">
              <div class="form-group" id="date-weed">
                <label class="font-normal">Date</label>
                <div class="input-group date">
                  <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                  <input [(ngModel)]="currentWeed.date" id="date" name="date" type="text" class="form-control">
                </div>
              </div>
              <div class="form-group">
                <label>Vendeur</label>
                <input [(ngModel)]="currentWeed.vendor" id="vendor" name="vendor" type="text" class="form-control">
              </div>
              <div class="form-group"><label>Nombre de pochons</label>
                <input [(ngModel)]="currentWeed.quantity" id="quantity" name="quantity" type="text" type="number"
                  class="form-control">
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-white" data-dismiss="modal">Fermer</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="createWeed()">Enregistrer ma
          vente</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal stock weed -->
<div class="modal inmodal fade" id="edit-stock" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
            class="sr-only">Close</span></button>
        <h4 class="modal-title">Mon stock</h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-sm-12">
            <form role="form">
              <div class="form-group">
                <label>Stocks en ma possession</label>
                <br>
                <small>Merci de ne rien inscrire si vous n'avez AUCUN stock</small>
                <input [(ngModel)]="currentWeedStock.quantity" id="stockquantity" name="stockquantity" type="text"
                  type="number" class="form-control">
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-white" data-dismiss="modal">Fermer</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="createWeedStock()">Enregistrer mon
          stock</button>
      </div>
    </div>
  </div>
</div>